# 모니터링

## 고가용성 요소
<p>

- 내결함성
    - 어플리케이션 구성 요소의 **내장된 중복성**
</p>
<p>

- 복구성
    - 재해 발생 후 **서비스 복구**와 관련된 프로세스, 정책 및 절차
</p>
<p>

- ...
</p>

<br><br>

## Amazon Route 53
<p>클라이언트가 하나의 DNS로 서비스를 이용해도 DNS 뒷 단에 Route 53 모듈이 VPC간 연동을 수행하여 고가용성을 보장할 수 있다.</p>
<p>Route 53 라우팅 지원 옵션</p>
<p>

- 간단한 라운드 로빈
- 가중치 기반 라운드 로빈
- 지연 시간 기반 라우팅
- 상태 확인 및 DNS 장애 조치
- 지리 위치 라우팅
- 트래픽 바이어스를 통한 자리 근접 라우팅
- 다중 값 응답
</p>
<p>→ 글로벌 서비스에 적합한 다양한 옵션을 제공한다.</p>

<br><br>

## AWS Cloud Watch

<br><br>

## AWS Cloud Trail
<p>

CloudTrail은 **계정에서 이루어지는 모든 API 호출을 기록**하고, 지정된 Amazon S3 버킷에 **로그를 저장**합니다.
</p>
<p>로그 수집에 관해서는 Cloud Trail을 쓰는 것도 좋지만 Fluentd나 Logstash를 사용하고 Kibana 등으로 시각화하는 것이 더 좋다는 의견</p>

<br><br>

## 탄력성 확보 및 아키텍처 확장
### Auto Scaling
<p>갑자기 증가하는 트래픽에도 유연하게 대처 가능. Auto Scaling 그룹 설정.</p>
<p>

- 지정된 조건에 따라 **인스턴스를 시작 또는 종료**
- 지정된 경우 **새 인스턴스를 로드 밸런서에 자동 등록**
- **여러 가용 영역에 걸쳐** 시작 가능
</p>
<p>
Auto Scaling 그룹에서 다음을 정의한다.
</p>
<p>

- 원하는 용량
- 최소 용량
- 최대 용량
</p>
<p>
고려 사항
</p>
<P>

- 여러 유형의 autoscaling을 결합해야 할 수도 있다
- **단계 조정**을 사용하여 아키텍처를 조정하려면 더 많은 작업이 필요할 수 있다
- 일부 아키텍처의 경우 **둘 이상의 지표를 사용하여 조정**해야 한다(ex. CPU 외 추가 지표)
- **초기에 빠르게 확장**하고 시간이 지남에 따라 **천천히 축소**
- **수명 주기 후크** 사용
    - Auto Scaling이 인스턴스를 시작 또는 종료할 때 사용자 지정 작업 수행
주의) 인스턴스가 시작 후 완전히 사용 가능한 상태가 되려면 몇 분 정도 걸릴 수 있다.
</p>